{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\srini\\\\Downloads\\\\se project\\\\Lost-and-Found\\\\Lost-and-Found-Management-System\\\\client\\\\src\\\\components\\\\HomePage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Navbar from \"./Navbar\";\nimport axios from \"axios\";\nimport { jwtDecode } from \"jwt-decode\";\nimport config from \"./config\";\nimport { useSelector } from \"react-redux\";\nimport { selectUser } from \"../utils/userSlice\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Base_URL = config.baseURL;\nconst HomePage = () => {\n  _s();\n  const user = useSelector(selectUser);\n  const [userDetails, setUserDetails] = useState(null);\n  useEffect(() => {\n    const fetchUserDetails = async () => {\n      try {\n        // Assuming you have a token stored in localStorage after user login\n        const authToken = localStorage.getItem(\"authToken\");\n        if (!authToken) {\n          console.error(\"No authentication token found\");\n          return;\n        }\n        // console.log(authToken);\n        // Decode the JWT token to get user information\n        const decodedToken = decodeJwtToken(authToken);\n\n        // console.log('decodedToken:', decodedToken);\n        const userId = decodedToken.sub;\n        // console.log(userId);\n\n        // Replace 'your-api-endpoint' with the actual endpoint for fetching user details\n        const response = await axios.get(`${Base_URL}/fetchuser/${userId}`, {\n          headers: {\n            Authorization: `Bearer ${authToken}`,\n            withCredentials: true\n          }\n        });\n\n        // Assuming the response contains user details with 'username' property\n        setUserDetails(response);\n        // console.log(response);\n      } catch (error) {\n        console.error(\"Error fetching user details:\", error);\n      }\n    };\n    fetchUserDetails();\n  }, []);\n  const decodeJwtToken = token => {\n    try {\n      // Use jwtDecode to decode the JWT token\n      return jwtDecode(token);\n    } catch (error) {\n      console.error(\"Error decoding JWT token:\", error);\n      return null;\n    }\n  };\n  const containerStyle = {\n    textAlign: \"center\",\n    marginTop: \"15rem\"\n  };\n  const headingStyle = {\n    fontSize: \"45px\",\n    fontWeight: \"bold\"\n  };\n  const paragraphStyle = {\n    fontSize: \"20px\"\n  };\n  const buttonStyle = {\n    backgroundColor: \"#FE5C5C\",\n    color: \"white\",\n    padding: \"10px 20px\",\n    borderRadius: \"5px\",\n    border: \"none\",\n    cursor: \"pointer\"\n  };\n  const membersStyle = {\n    marginTop: \"8rem\"\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: containerStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: headingStyle,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: \"red\"\n          },\n          children: \"NITC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }, this), \" Lost & Found\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 8\n      }, this), !user || !userDetails ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: paragraphStyle,\n          children: \"NIT Calicut's digital lost and found platform. Helping students reconnect with their lost belongings quickly and efficiently.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: paragraphStyle,\n          children: \"Please sign in to continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/sign-in\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"sign-in-button\",\n            style: buttonStyle,\n            children: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: paragraphStyle,\n          children: [\"Welcome\", \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [userDetails.data.gotUser.username, \"-(\", userDetails.data.gotUser.rollno, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this), \", proceed to raising a concern\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/raise-a-concern\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"sign-in-button\",\n            style: buttonStyle,\n            children: \"Raise\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(HomePage, \"SvresGjmKl1R/ktI311oLSj1Wtg=\", false, function () {\n  return [useSelector];\n});\n_c = HomePage;\nexport default HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useState","useEffect","Link","Navbar","axios","jwtDecode","config","useSelector","selectUser","jsxDEV","_jsxDEV","Fragment","_Fragment","Base_URL","baseURL","HomePage","_s","user","userDetails","setUserDetails","fetchUserDetails","authToken","localStorage","getItem","console","error","decodedToken","decodeJwtToken","userId","sub","response","get","headers","Authorization","withCredentials","token","containerStyle","textAlign","marginTop","headingStyle","fontSize","fontWeight","paragraphStyle","buttonStyle","backgroundColor","color","padding","borderRadius","border","cursor","membersStyle","children","fileName","_jsxFileName","lineNumber","columnNumber","style","to","className","data","gotUser","username","rollno","_c","$RefreshReg$"],"sources":["C:/Users/srini/Downloads/se project/Lost-and-Found/Lost-and-Found-Management-System/client/src/components/HomePage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Navbar from \"./Navbar\";\r\nimport axios from \"axios\";\r\nimport { jwtDecode } from \"jwt-decode\";\r\nimport config from \"./config\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectUser } from \"../utils/userSlice\";\r\n\r\nconst Base_URL = config.baseURL;\r\n\r\nconst HomePage = () => {\r\n  const user = useSelector(selectUser);\r\n  const [userDetails, setUserDetails] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchUserDetails = async () => {\r\n      try {\r\n        // Assuming you have a token stored in localStorage after user login\r\n        const authToken = localStorage.getItem(\"authToken\");\r\n\r\n        if (!authToken) {\r\n          console.error(\"No authentication token found\");\r\n          return;\r\n        }\r\n        // console.log(authToken);\r\n        // Decode the JWT token to get user information\r\n        const decodedToken = decodeJwtToken(authToken);\r\n\r\n        // console.log('decodedToken:', decodedToken);\r\n        const userId = decodedToken.sub;\r\n        // console.log(userId);\r\n\r\n        // Replace 'your-api-endpoint' with the actual endpoint for fetching user details\r\n        const response = await axios.get(`${Base_URL}/fetchuser/${userId}`, {\r\n          headers: {\r\n            Authorization: `Bearer ${authToken}`,\r\n            withCredentials: true,\r\n          },\r\n        });\r\n\r\n        // Assuming the response contains user details with 'username' property\r\n        setUserDetails(response);\r\n        // console.log(response);\r\n      } catch (error) {\r\n        console.error(\"Error fetching user details:\", error);\r\n      }\r\n    };\r\n\r\n    fetchUserDetails();\r\n  }, []);\r\n\r\n  const decodeJwtToken = (token) => {\r\n    try {\r\n      // Use jwtDecode to decode the JWT token\r\n      return jwtDecode(token);\r\n    } catch (error) {\r\n      console.error(\"Error decoding JWT token:\", error);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const containerStyle = {\r\n    textAlign: \"center\",\r\n    marginTop: \"15rem\",\r\n  };\r\n\r\n  const headingStyle = {\r\n    fontSize: \"45px\",\r\n    fontWeight: \"bold\",\r\n  };\r\n\r\n  const paragraphStyle = {\r\n    fontSize: \"20px\",\r\n  };\r\n\r\n  const buttonStyle = {\r\n    backgroundColor: \"#FE5C5C\",\r\n    color: \"white\",\r\n    padding: \"10px 20px\",\r\n    borderRadius: \"5px\",\r\n    border: \"none\",\r\n    cursor: \"pointer\",\r\n  };\r\n\r\n  const membersStyle = {\r\n    marginTop: \"8rem\",\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div style={containerStyle}>\r\n       <h4 style={headingStyle}>\r\n        <span style={{ color: \"red\" }}>NITC</span> Lost & Found\r\n       </h4>\r\n \r\n        {/* Conditionally render based on authentication status */}\r\n        {!user || !userDetails ? (\r\n          <>\r\n            <p style={paragraphStyle}>NIT Calicut's digital lost and found platform.\r\n              Helping students reconnect with their lost belongings quickly and efficiently.</p>\r\n            <p style={paragraphStyle}>Please sign in to continue</p>\r\n            <Link to=\"/sign-in\">\r\n              <button className=\"sign-in-button\" style={buttonStyle}>\r\n                Sign In\r\n              </button>\r\n            </Link>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <p style={paragraphStyle}>\r\n              Welcome{\" \"}\r\n              <b>\r\n                {userDetails.data.gotUser.username}-(\r\n                {userDetails.data.gotUser.rollno})\r\n              </b>\r\n              , proceed to raising a concern\r\n            </p>\r\n            <Link to=\"/raise-a-concern\">\r\n              <button className=\"sign-in-button\" style={buttonStyle}>\r\n                Raise\r\n              </button>\r\n            </Link>\r\n          </>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}